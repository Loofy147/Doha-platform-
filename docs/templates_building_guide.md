# دليل عملية بناء قوالب المتاجر المتكاملة باستخدام الأدوات المتاحة

يهدف هذا الدليل إلى شرح عملية بناء وتصميم قوالب المتاجر المتكاملة لمنصة "لمسة ضحى" باستخدام أدوات AI المتاحة (مثل `natural_language_write_file`، `run_terminal_command`) ومصادر خارجية للمكونات والأيقونات. تهدف هذه العملية إلى تسريع وتيرة التطوير مع الحفاظ على الجودة والمرونة.

---

## المبدأ الأساسي: البناء المساعد بالذكاء الاصطناعي

تعتمد طريقة العمل المقترحة على الاستفادة من قدرات نماذج اللغة الكبيرة (LLMs) في توليد الكود بناءً على وصف طبيعي. بدلاً من كتابة كل سطر كود يدويًا، سنركز على وصف "ماذا نريد بناءه" وسيقوم الـ AI بمساعدتنا في كتابة الكود اللازم، مع الاستفادة من المكتبات والمكونات الجاهزة.

---

## الأدوات الرئيسية المستخدمة:

1.  **`natural_language_write_file(path, prompt, language, selected_content)`:**
    *   **الوصف:** هذه هي الأداة الأساسية لكتابة الكود أو تعديل الملفات باستخدام وصف باللغة الطبيعية. يمكنها إنشاء ملفات جديدة أو تعديل محتوى موجود.
    *   **الاستخدام في هذه العملية:** سنستخدمها لكتابة كود مكونات الواجهة (React/TypeScript)، صفحات القوالب، ملفات الأنماط (CSS/Tailwind)، وملفات البيانات الوهمية إذا لزم الأمر.
    *   **الكفاءة:** تسمح بوصف مكونات معقدة أو أقسام كاملة بوضوح، وستقوم الأداة بتوليد الكود المناسب.

2.  **`run_terminal_command(command)`:**
    *   **الوصف:** لتنفيذ أوامر سطر الأوامر داخل بيئة التطوير.
    *   **الاستخدام في هذه العملية:** ستستخدم لتنصيب المكتبات الخارجية (مكتبات مكونات UI، مكتبات أيقونات، أدوات مساعدة) باستخدام npm أو yarn.
    *   **الكفاءة:** أتمتة عملية التنصيب التي تعتبر خطوة ضرورية عند استخدام مكتبات خارجية.

3.  **`list_project_files(path)`:**
    *   **الوصف:** لعرض قائمة بالملفات والمجلدات في مسار محدد.
    *   **الاستخدام في هذه العملية:** للمساعدة في تحديد مسارات الملفات الموجودة، التحقق من وجود ملفات تم إنشاؤها، وفهم هيكل المشروع الحالي.

4.  **`read_file(path)`:**
    *   **الوصف:** لقراءة محتوى ملف موجود.
    *   **الاستخدام في هذه العملية:** لمراجعة الكود الذي تم إنشأوه بواسطة الـ AI، فهم محتوى ملف معين قبل تعديله، أو استخلاص معلومات معينة من ملفات التكوين.

---

## خطوات عملية البناء (الدورة التكرارية):

عملية بناء كل قالب ستكون دورة تكرارية من التخطيط، الجلب، البناء، والمراجعة.

**الخطوة 1: اختيار وتحديد القالب**

*   نختار أحد قوالب المتاجر المقترحة من مستند "قوالب المتاجر المتكاملة المقترحة".
*   نراجع وصف القالب، التركيز الرئيسي، الجمهور المستهدف، والأقسام المقترحة فيه.
*   نحدد الميزات الخاصة التي يجب أن يتضمنها هذا القالب.

**الخطوة 2: التخطيط الأولي لهيكل المكونات**

*   بناءً على الأقسام المحددة للقالب، نخطط لكيفية تقسيم الواجهة إلى مكونات (Components) في React. مثلاً: مكون `HeroSection`، مكون `ProductGallery`، مكون `BookingForm`.
*   نحدد أين ستوضع هذه المكونات في هيكل مجلد `src/components`.
*   نحدد مسار الصفحة الرئيسية للقالب ضمن مجلد `src/app` (مثلاً: `src/app/store/templates/fashion/page.tsx`).

**الخطوة 3: جلب المكتبات والمصادر المطلوبة (عند الحاجة)**

*   إذا كان القالب يتطلب مكتبة UI معينة لم نقم بتنصيبها بعد (مثل مكتبة تقويم لميزة حجز المواعيد في قالب الصالون أو الطبيبة).
    *   **الإجراء:** نستخدم أداة `run_terminal_command` لتنصيب المكتبة.
    *   **مثال:** 
```
print(default_api.run_terminal_command(command='npm install react-datepicker'))
```
*   إذا احتجنا أيقونات غير موجودة في المكتبات المستخدمة حاليًا.
    *   **الإجراء:** نحدد الأيقونة المطلوبة ونستخدمها مباشرة إذا كانت موجودة في المكتبات المنصبة، أو نلجأ لمصادر خارجية للصور.
*   لصور الـ Placeholder أو الصور المجانية.
    *   **الإجراء:** نحدد المصدر ونستخدم الروابط المناسبة أو ننصح المستخدم بتحميلها يدويًا وتنظيمها في `public/assets`.

**الخطوة 4: بناء مكونات الأقسام باستخدام `natural_language_write_file`**

*   نبدأ ببناء المكونات الفردية التي يتألف منها القالب.
*   لكل مكون:
    *   **تحديد المسار والاسم:** مثلاً: `src/components/store/templates/fashion/HeroSection.tsx`.
    *   **تحديد اللغة:** `typescript` أو `typescriptreact`.
    *   **صياغة الـ Prompt:** نكتب وصفًا واضحًا ومفصلاً للمكون باللغة الطبيعية، مع تحديد العناصر التي يجب أن يحتوي عليها (صور، عناوين، نصوص، أزرار)، وظيفتها (عرض معلومات، دعوة لاتخاذ إجراء)، وأي تفاصيل تصميمية مهمة (استخدام ألوان معينة، تنسيق معين). نستخدم الرموز `<CODE_BLOCK>` و `</CODE_BLOCK>` إذا أردنا الإشارة إلى أجزاء معينة يجب أن تكون كود.
    *   **الإجراء:** نستخدم أداة `natural_language_write_file`.
    *   **مثال الـ Prompt (لقسم بانر في قالب الأزياء):** "أنشئ مكون React/TypeScriptX يمثل البانر الرئيسي لقالب متجر أزياء. يجب أن يحتوي على صورة خلفية كبيرة وجذابة، عنوان رئيسي كبير يعرض اسم المتجر أو شعاره، نص وصفي قصير عن أحدث التشكيلات، وزر واضح للدعوة لاتخاذ إجراء مثل 'تسوق الآن'. استخدم مكتبة Tailwind CSS للتنسيق. الصورة الخلفية يجب أن تكون قابلة للتغيير كخاصية (prop)."
    *   **المراجعة والتعديل:** بعد أن تولد الأداة الكود، نستخدم `read_file` لمراجعته. إذا كان هناك شيء غير صحيح أو يحتاج تحسينًا، نستخدم `natural_language_write_file` مرة أخرى مع تحديد الـ `selected_content` (الكود الذي نريد تعديله) ووصف التعديل المطلوب في الـ `prompt`.

**الخطوة 5: تجميع الأقسام في صفحة القالب الرئيسية**

*   بعد بناء المكونات الفردية، ننشئ ملف الصفحة الرئيسية للقالب.
*   **تحديد المسار والاسم:** مثلاً: `src/app/store/templates/fashion/page.tsx`.
*   **تحديد اللغة:** `typescriptreact`.
*   **صياغة الـ Prompt:** نصف في الـ prompt أننا نريد صفحة React تستورد وتستدعي المكونات التي أنشأناها في الخطوة 4 بالترتيب المطلوب لعرضها كصفحة قالب المتجر المتكاملة.
*   **الإجراء:** نستخدم أداة `natural_language_write_file`.

**الخطوة 6: إضافة الميزات الخاصة بالقالب**

*   نضيف الكود اللازم للميزات الفريدة لكل قالب (مثل نظام حجز المواعيد، نماذج الطلبات المخصصة، فلتر المنتجات المتقدم).
*   **الإجراء:** نستخدم `natural_language_write_file` لإنشاء مكونات جديدة لهذه الميزات أو لتعديل المكونات الموجودة لإضافة الوظائف اللازمة. قد يتطلب هذا أيضًا كتابة كود لـ APIs الخلفية إذا كانت الميزة تتطلب تفاعلاً مع قاعدة بيانات أو خدمات خارجية (وهو خارج نطاق هذه الأدوات المباشرة ولكنه جزء من عملية التطوير الكلية).

**الخطوة 7: التحسينات والتنسيق النهائي**

*   مراجعة التصميم العام لضمان التناسق والجاذبية البصرية.
*   تطبيق التنسيقات النهائية باستخدام CSS أو Tailwind.
*   التأكد من التجاوب مع مختلف أحجام الشاشات.
*   **الإجراء:** استخدام `natural_language_write_file` لتعديل ملفات الأنماط أو إضافة أنماط مباشرة في ملفات المكونات.

**الخطوة 8: إضافة المحتوى الوهمي (Placeholder Content)**

*   ملء القالب ببيانات وهمية (صور، نصوص) لعرض شكله النهائي قبل ربطه بالبيانات الحقيقية للمتجر.
*   **الإجراء:** تعديل ملفات المكونات باستخدام `natural_language_write_file` لإضافة النصوص والصور الوهمية أو استخدام مكتبات توليد بيانات وهمية إذا كانت البيانات معقدة.

---

## تحسين كفاءة العملية:

*   **وضوح الـ Prompt:** كلما كان الـ prompt الموجه لأداة `natural_language_write_file` أكثر وضوحًا وتفصيلاً، زادت دقة الكود الناتج وقلت الحاجة للتعديلات.
*   **التقسيم إلى مكونات صغيرة:** بناء المكونات بشكل مجزأ أسهل في الإدارة والتعديل والاختبار.
*   **الاستفادة من المكتبات الجاهزة:** استخدام مكتبات مكونات UI (مثل Material UI أو Ant Design) ومكتبات الأيقونات (مثل Lucide Icons) يوفر الكثير من الوقت والجهد في بناء العناصر الأساسية ويضمن التناسق.
*   **المراجعة الدورية:** مراجعة الكود الذي يولده الـ AI بشكل دوري للتأكد من مطابقته للمواصفات وأفضل الممارسات.
*   **استخدام `selected_content` للتعديلات الدقيقة:** عند الحاجة لتعديل جزء معين من الكود، استخدام خاصية `selected_content` في `natural_language_write_file` يوجه الـ AI لتعديل هذا الجزء تحديدًا، مما يقلل احتمالية التأثير على أجزاء أخرى من الملف.

---

## مثال تطبيقي مبسط: بناء مكون زر أساسي

لنفرض أننا نريد بناء مكون زر أساسي يمكن استخدامه في القوالب.

1.  **التخطيط:** نحتاج مكون React يمثل زراً، يقبل نصاً كـ prop ويقوم بتنفيذ دالة عند الضغط عليه.
2.  **المسار والاسم:** `src/components/common/Button.tsx`.
3.  **اللغة:** `typescriptreact`.
4.  **الـ Prompt:** "أنشئ مكون React/TypeScriptX يسمى `Button`. يجب أن يقبل الخاصيات `text` (string) و `onClick` (() => void). استخدم زر HTML عادي (`<button>`). أضف بعض التنسيقات الأساسية باستخدام Tailwind CSS ليظهر كزر أزرق بخلفية بيضاء عند التحويم."
5.  **استخدام الأداة:**
```
print(default_api.natural_language_write_file(
    path='src/components/common/Button.tsx',
    language='typescriptreact',
    prompt='أنشئ مكون React/TypeScriptX يسمى `Button`. يجب أن يقبل الخاصيات `text` (string) و `onClick` (() => void). استخدم زر HTML عادي (`<button>`). أضف بعض التنسيقات الأساسية باستخدام Tailwind CSS ليظهر كزر أزرق بخلفية بيضاء عند التحويم.'
))
```
6.  **المراجعة:** نستخدم `read_file('src/components/common/Button.tsx')` لمراجعة الكود الناتج والتأكد من أنه صحيح.
7.  **التعديل (إذا لزم الأمر):** إذا أردنا مثلاً تغيير لون الزر ليصبح بنفسجي، نستخدم `natural_language_write_file` مرة أخرى مع تحديد الكود المتعلق بالتنسيق في `selected_content` ووصف التغيير في الـ `prompt`.

---

## الخلاصة:

تعتمد عملية بناء القوالب على استخدام الأدوات المتاحة بفعالية لوصف "ماذا" نريد بناءه، وترك مهمة كتابة الكود التفصيلي للـ AI. هذا يسمح بالتركيز على الهيكل والتصميم والوظائف، بينما تقوم الأدوات بتنفيذ التفاصيل التقنية الأولية. باتباع هذه الخطوات، يمكننا تسريع عملية إنشاء القوالب وتوفير مجموعة متنوعة وجاهزة للاستخدام لرائدات الأعمال على منصة "لمسة ضحى".

الآن وقد أصبحت هذه الأدلة جاهزة، يمكننا البدء بالخطوة الأولى وهي اختيار القالب من قائمة القوالب المقترحة والبدء في بنائه عمليًا.
